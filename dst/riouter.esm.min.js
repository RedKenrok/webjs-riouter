function t(t,n){void 0===n&&(n={});for(var r=function(t){for(var e=[],n=0;n<t.length;){var r=t[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)e.push({type:"CHAR",index:n,value:t[n++]});else{var o=1,s="";if("?"===t[u=n+1])throw new TypeError('Pattern cannot start with "?" at '+u);for(;u<t.length;)if("\\"!==t[u]){if(")"===t[u]){if(0==--o){u++;break}}else if("("===t[u]&&(o++,"?"!==t[u+1]))throw new TypeError("Capturing groups are not allowed at "+u);s+=t[u++]}else s+=t[u++]+t[u++];if(o)throw new TypeError("Unbalanced pattern at "+n);if(!s)throw new TypeError("Missing pattern at "+n);e.push({type:"PATTERN",index:n,value:s}),n=u}else{for(var i="",u=n+1;u<t.length;){var a=t.charCodeAt(u);if(!(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||95===a))break;i+=t[u++]}if(!i)throw new TypeError("Missing parameter name at "+n);e.push({type:"NAME",index:n,value:i}),n=u}else e.push({type:"CLOSE",index:n,value:t[n++]});else e.push({type:"OPEN",index:n,value:t[n++]});else e.push({type:"ESCAPED_CHAR",index:n++,value:t[n++]});else e.push({type:"MODIFIER",index:n,value:t[n++]})}return e.push({type:"END",index:n,value:""}),e}(t),o=n.prefixes,s=void 0===o?"./":o,i="[^"+e(n.delimiter||"/#?")+"]+?",u=[],a=0,c=0,h="",l=function(t){if(c<r.length&&r[c].type===t)return r[c++].value},d=function(t){var e=l(t);if(void 0!==e)return e;var n=r[c],o=n.type,s=n.index;throw new TypeError("Unexpected "+o+" at "+s+", expected "+t)},p=function(){for(var t,e="";t=l("CHAR")||l("ESCAPED_CHAR");)e+=t;return e};c<r.length;){var m=l("CHAR"),f=l("NAME"),v=l("PATTERN");if(f||v){var b=m||"";-1===s.indexOf(b)&&(h+=b,b=""),h&&(u.push(h),h=""),u.push({name:f||a++,prefix:b,suffix:"",pattern:v||i,modifier:l("MODIFIER")||""})}else{var g=m||l("ESCAPED_CHAR");if(g)h+=g;else if(h&&(u.push(h),h=""),l("OPEN")){b=p();var y=l("NAME")||"",w=l("PATTERN")||"",O=p();d("CLOSE"),u.push({name:y||(w?a++:""),pattern:y&&!w?i:w,prefix:b,suffix:O,modifier:l("MODIFIER")||""})}else d("END")}}return u}function e(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function n(t){return t&&t.sensitive?"":"i"}function r(r,o,s){return function(t,r,o){void 0===o&&(o={});for(var s=o.strict,i=void 0!==s&&s,u=o.start,a=void 0===u||u,c=o.end,h=void 0===c||c,l=o.encode,d=void 0===l?function(t){return t}:l,p="["+e(o.endsWith||"")+"]|$",m="["+e(o.delimiter||"/#?")+"]",f=a?"^":"",v=0,b=t;v<b.length;v++){var g=b[v];if("string"==typeof g)f+=e(d(g));else{var y=e(d(g.prefix)),w=e(d(g.suffix));if(g.pattern)if(r&&r.push(g),y||w)if("+"===g.modifier||"*"===g.modifier){var O="*"===g.modifier?"?":"";f+="(?:"+y+"((?:"+g.pattern+")(?:"+w+y+"(?:"+g.pattern+"))*)"+w+")"+O}else f+="(?:"+y+"("+g.pattern+")"+w+")"+g.modifier;else f+="("+g.pattern+")"+g.modifier;else f+="(?:"+y+w+")"+g.modifier}}if(h)i||(f+=m+"?"),f+=o.endsWith?"(?="+p+")":"$";else{var N=t[t.length-1],x="string"==typeof N?m.indexOf(N[N.length-1])>-1:void 0===N;i||(f+="(?:"+m+"(?="+p+"))?"),x||(f+="(?="+m+"|"+p+")")}return new RegExp(f,n(o))}(t(r,s),o,s)}function o(t,e,s){return t instanceof RegExp?function(t,e){if(!e)return t;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,o=n.exec(t.source);o;)e.push({name:o[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),o=n.exec(t.source);return t}(t,e):Array.isArray(t)?function(t,e,r){var s=t.map((function(t){return o(t,e,r).source}));return new RegExp("(?:"+s.join("|")+")",n(r))}(t,e,s):r(t,e,s)}class s extends class{constructor(){this._events={}}destroy(){this._events=null}addListener(t,e){return Object.prototype.hasOwnProperty.call(this._events,t)?this._events[t].indexOf(e)<0&&this._events[t].push(e):this._events[t]=[e],!0}removeListener(t,e){if(!Object.prototype.hasOwnProperty.call(this._events,t))return;if(this._events[t].length<=0)return;const n=this._events[t].indexOf(e);n>=0&&this._events[t].splice(n,1)}removeAllListeners(t){void 0===t&&(t=null),t&&!Object.prototype.hasOwnProperty.call(this._events,t)||delete this._events[t]}dispatch(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];Object.prototype.hasOwnProperty.call(this._events,t)&&(this._events[t].length<=0||this._events[t].forEach((t=>{t(...n)})))}}{constructor(t){void 0===t&&(t=null),super(),this._options=Object.assign({basePath:"",updateHistory:!1,pathToRegexp:{}},t),this._pathCurrent=null,this._routes={},this._routeCurrent=null}destroy(){this._options=null,this._pathCurrent=null,this._routeCurrent=null,this._routes=null,super.destroy()}getPath(){return this._pathCurrent}addRoute(t,e){void 0===e&&(e={});const n=o(t,[],e);this._routes[t]=t=>n.test(t),this.dispatch("added",{route:t,router:this})}removeRoute(t){delete this._routes[t]}getRoutes(){return Object.keys(this._routes)}push(t){const e=t.replace(this._options.basePath,"");if(this._pathCurrent===e)return!0;let n=null;for(const t in this._routes){if((0,this._routes[t])(e)){n=t;break}}if(!n)return!1;if(this._pathCurrent=e,this._routeCurrent=n,this._options.updateHistory&&"undefined"!=typeof window){const e=t.includes(this._options.basePath)?t:this._options.basePath+t;e!==window.history.location&&window.history.pushState(null,window.document.title,e)}return this.dispatch("pushed",{path:this._pathCurrent,router:this,route:this._routeCurrent}),!0}}var i=4;function u(t,e){t.firstChild&&(e.appendChild(t.firstChild),u(t,e))}function a(t){c(t.childNodes)}function c(t){Array.from(t).forEach(h)}const h=t=>t&&t.parentNode&&t.parentNode.removeChild(t),l=(t,e)=>e&&e.parentNode&&e.parentNode.insertBefore(t,e),d=Symbol("pure"),p=Symbol("parent"),m=Symbol("head"),f=Symbol("tail");function v(t){const e=t.dom.cloneNode(!0),{head:n,tail:r}=function(){const t=document.createTextNode(""),e=document.createTextNode("");return t[m]=!0,e[f]=!0,{head:t,tail:e}}();return{avoidDOMInjection:!0,fragment:e,head:n,tail:r,children:[n,...Array.from(e.childNodes),r]}}function b(t,e,n,r={}){return Object.defineProperty(t,e,{value:n,enumerable:!1,writable:!1,configurable:!0,...r}),t}function g(t,e){return typeof t===e}function y(t){const e=t.ownerSVGElement;return!!e||null===e}function w(t){return"template"===t.tagName.toLowerCase()}function O(t){return null==t}const N=Symbol("unmount"),x={nodes:[],mount(t,e){return this.update(t,e)},update(t,e){const{placeholder:n,nodes:r,childrenMap:o}=this,s=t===N?null:this.evaluate(t),i=s?Array.from(s):[],{newChildrenMap:u,batches:a,futureNodes:c}=function(t,e,n,r){const{condition:o,template:s,childrenMap:i,itemName:u,getKey:a,indexName:c,root:h,isTemplateTag:l}=r,d=new Map,p=[],m=[];return t.forEach(((t,r)=>{const f=function(t,{itemName:e,indexName:n,index:r,item:o}){b(t,e,o),n&&b(t,n,r);return t}(Object.create(e),{itemName:u,indexName:c,index:r,item:t}),g=a?a(f):r,y=i.get(g),w=[];if(function(t,e){return!!t&&!t(e)}(o,f))return;const O=!y,N=y?y.template:s.clone(),x=N.el||h.cloneNode(),E=l&&O?v(N):N.meta;O?p.push((()=>N.mount(x,f,n,E))):p.push((()=>N.update(f,n))),l?w.push(...E.children):w.push(x),i.delete(g),m.push(...w),d.set(g,{nodes:w,template:N,context:f,index:r})})),{newChildrenMap:d,batches:p,futureNodes:m}}(i,t,e,this);return((t,e,n,r)=>{const o=e.length;let s=t.length,i=o,u=0,a=0,c=null;for(;u<s||a<i;)if(s===u){const t=i<o?a?n(e[a-1],-0).nextSibling:n(e[i-a],0):r;for(;a<i;)l(n(e[a++],1),t)}else if(i===a)for(;u<s;)c&&c.has(t[u])||h(n(t[u],-1)),u++;else if(t[u]===e[a])u++,a++;else if(t[s-1]===e[i-1])s--,i--;else if(t[u]===e[i-1]&&e[a]===t[s-1]){const r=n(t[--s],-1).nextSibling;l(n(e[a++],1),n(t[u++],-1).nextSibling),l(n(e[--i],1),r),t[s]=e[i]}else{if(!c){c=new Map;let t=a;for(;t<i;)c.set(e[t],t++)}if(c.has(t[u])){const r=c.get(t[u]);if(a<r&&r<i){let o=u,h=1;for(;++o<s&&o<i&&c.get(t[o])===r+h;)h++;if(h>r-a){const o=n(t[u],0);for(;a<r;)l(n(e[a++],1),o)}else d=n(e[a++],1),(p=n(t[u++],-1))&&p.parentNode&&p.parentNode.replaceChild(d,p)}else u++}else h(n(t[u++],-1))}var d,p})(r,c,function(t,e){return(n,r)=>{if(r<0){const n=t[t.length-1];if(n){const{template:r,nodes:o,context:s}=n;o.pop(),o.length||(t.pop(),r.unmount(s,e,null))}}return n}}(Array.from(o.values()),e),n),a.forEach((t=>t())),this.childrenMap=u,this.nodes=c,this},unmount(t,e){return this.update(N,e),this}};const E={mount(t,e){return this.update(t,e)},update(t,e){const n=!!this.evaluate(t),r=!this.value&&n,o=this.value&&!n,s=()=>{const n=this.node.cloneNode();l(n,this.placeholder),this.template=this.template.clone(),this.template.mount(n,t,e)};switch(!0){case r:s();break;case o:this.unmount(t);break;default:n&&this.template.update(t,e)}return this.value=n,this},unmount(t,e){return this.template.unmount(t,e,!0),this}};const j="undefined"==typeof Element?{}:Element.prototype,A=function(t){const e=new Map,n=n=>(e.has(n)||e.set(n,t.call(this,n)))&&e.get(n);return n.cache=e,n}((t=>j.hasOwnProperty(t)));function M(t,{name:e},n,r){if(!e)return r&&function(t,e,n){const r=e?Object.keys(e):[];Object.keys(n).filter((t=>!r.includes(t))).forEach((e=>t.removeAttribute(e)))}(t,n,r),void(n&&function(t,e){Object.entries(e).forEach((([e,n])=>M(t,{name:e},n)))}(t,n));!A(e)&&(function(t){return g(t,"boolean")}(n)||function(t){return!O(t)&&t.constructor===Object}(n)||function(t){return g(t,"function")}(n))&&(t[e]=n),!function(t){return!t&&0!==t}(n)?function(t){return!0===t||["string","number"].includes(typeof t)}(n)&&t.setAttribute(e,function(t,e){return!0===e?t:e}(e,n)):t.removeAttribute(e)}const C=/^on/,T={handleEvent(t){this[t.type](t)}},S=new WeakMap;function _(t){return O(t)?"":t}const D=(t,e)=>{const n=t.childNodes[e];if(n.nodeType===Node.COMMENT_NODE){const e=document.createTextNode("");return t.replaceChild(e,n),e}return n};var P={0:M,1:function(t,{name:e},n){const r=e.replace(C,""),o=S.get(t)||(t=>{const e=Object.create(T);return S.set(t,e),e})(t),[s,i]=(t=>Array.isArray(t)?t:[t,!1])(n),u=o[r],a=s&&!u;u&&!s&&t.removeEventListener(r,o),a&&t.addEventListener(r,o,i),o[r]=s},2:function(t,e,n){t.data=_(n)},3:function(t,e,n){t.value=_(n)}};const k={mount(t){return this.value=this.evaluate(t),R(this,this.value),this},update(t){const e=this.evaluate(t);return this.value!==e&&(R(this,e),this.value=e),this},unmount(){return 1===this.type&&R(this,null),this}};function R(t,e){return P[t.type](t.node,t,e,t.value)}const L=(t,e)=>t[p]||e,I={attributes:[],getTemplateScope(t,e){return function(t,e,n){if(!t||!t.length)return n;const r=t.map((t=>({...t,value:t.evaluate(e)})));return Object.assign(Object.create(n||null),function(t){return t.reduce(((t,e)=>{const{value:n,type:r}=e;switch(!0){case!e.name&&0===r:return{...t,...n};case 3===r:t.value=e.value;break;default:t[(o=e.name,o.replace(/-(\w)/g,((t,e)=>e.toUpperCase())))]=e.value}var o;return t}),{})}(r))}(this.attributes,t,e)},mount(t,e){const n=!!t.slots&&t.slots.find((({id:t})=>t===this.name)),{parentNode:r}=this.node,o=L(t,e);return this.template=n&&V(n.html,n.bindings).createDOM(r),this.template&&(a(this.node),this.template.mount(this.node,this.getTemplateScope(t,o),o),this.template.children=Array.from(this.node.childNodes)),U(this.node),h(this.node),this},update(t,e){if(this.template){const n=L(t,e);this.template.update(this.getTemplateScope(t,n),n)}return this},unmount(t,e,n){return this.template&&this.template.unmount(this.getTemplateScope(t,e),null,n),this}};function U(t){const e=t&&t.firstChild;e&&(l(e,t),U(t))}function H(t){return t.reduce(((t,{bindings:e})=>t.concat(e)),[])}const B={mount(t){return this.update(t)},update(t,e){const n=this.evaluate(t);return n&&n===this.name?this.tag.update(t):(this.unmount(t,e,!0),this.name=n,this.tag=function(t,e=[],n=[]){return t?t({slots:e,attributes:n}):V(function(t){return t.reduce(((t,e)=>t+e.html),"")}(e),[...H(e),{expressions:n.map((t=>({type:0,...t})))}])}(this.getComponent(n),this.slots,this.attributes),this.tag.mount(this.node,t)),this},unmount(t,e,n){return this.tag&&this.tag.unmount(n),this}};var $={1:function(t,{evaluate:e,template:n}){const r=document.createTextNode("");return l(r,t),h(t),{...E,node:t,evaluate:e,placeholder:r,template:n.createDOM(t)}},2:function(t,{expressions:e}){return{...(n=e.map((e=>function(t,e){return{...k,...e,node:2===e.type?D(t,e.childNodeIndex):t}}(t,e))),r=["mount","update","unmount"],r.reduce(((t,e)=>({...t,[e]:t=>n.map((n=>n[e](t)))&&o})),{}))};var n,r,o},0:function(t,{evaluate:e,condition:n,itemName:r,indexName:o,getKey:s,template:i}){const u=document.createTextNode(""),a=t.cloneNode();return l(u,t),h(t),{...x,childrenMap:new Map,node:t,root:a,condition:n,evaluate:e,isTemplateTag:w(a),template:i.createDOM(t),getKey:s,indexName:o,itemName:r,placeholder:u}},3:function(t,{evaluate:e,getComponent:n,slots:r,attributes:o}){return{...B,node:t,evaluate:e,slots:r,attributes:o,getComponent:n}},4:function(t,{name:e,attributes:n}){return{...I,attributes:n,node:t,name:e}}};function F(t,e){return t.map((t=>2===t.type?{...t,childNodeIndex:t.childNodeIndex+e}:t))}function z(t,e){return y(t)?function(t,e){return e.ownerDocument.importNode((new window.DOMParser).parseFromString(`<svg xmlns="http://www.w3.org/2000/svg">${t}</svg>`,"application/xml").documentElement,!0)}(e,t):function(t,e){const n=w(e)?e:document.createElement("template");return n.innerHTML=t,n.content}(e,t)}function K(t,e){switch(!0){case y(t):u(e,t);break;case w(t):t.parentNode.replaceChild(e,t);break;default:t.appendChild(e)}}const q=Object.freeze({createDOM(t){return this.dom=this.dom||function(t,e){return e&&("string"==typeof e?z(t,e):e)}(t,this.html)||document.createDocumentFragment(),this},mount(t,e,n,r={}){if(!t)throw new Error("Please provide DOM node to mount properly your template");this.el&&this.unmount(e);const{fragment:o,children:s,avoidDOMInjection:i}=r,{parentNode:u}=s?s[0]:t,a=w(t),c=a?function(t,e,n){const r=Array.from(t.childNodes);return Math.max(r.indexOf(e),r.indexOf(n.head)+1,0)}(u,t,r):null;this.createDOM(t);const h=o||this.dom.cloneNode(!0);return this.el=a?u:t,this.children=a?s||Array.from(h.childNodes):null,!i&&h&&K(t,h),this.bindings=this.bindingsData.map((t=>function(t,e,n){const{selector:r,type:o,redundantAttribute:s,expressions:i}=e,u=r?t.querySelector(r):t;s&&u.removeAttribute(s);const a=i||[];return($[o]||$[2])(u,{...e,expressions:n&&!r?F(a,n):a})}(this.el,t,c))),this.bindings.forEach((t=>t.mount(e,n))),this.meta=r,this},update(t,e){return this.bindings.forEach((n=>n.update(t,e))),this},unmount(t,e,n=!1){const r=this.el;if(!r)return this;switch(this.bindings.forEach((r=>r.unmount(t,e,n))),!0){case r[d]||null===n:break;case Array.isArray(this.children):c(this.children);break;case!n:a(r);break;case!!n:h(r)}return this.el=null,this},clone(){return{...this,meta:{},el:null}}});function V(t,e=[]){return{...q,html:t,bindingsData:e}}
/* Riot v6.1.2, @license MIT */function W(t){return t.replace(/-(\w)/g,((t,e)=>e.toUpperCase()))}function G(t,e){t.firstChild&&(e.appendChild(t.firstChild),G(t,e))}function X(t){Y(t.childNodes)}function Y(t){Array.from(t).forEach(Z)}const Z=t=>t&&t.parentNode&&t.parentNode.removeChild(t),J=(t,e)=>e&&e.parentNode&&e.parentNode.insertBefore(t,e),Q=new Map,tt=Symbol("riot-component"),et=new Set,nt="mount",rt="update",ot="unmount",st=Symbol("pure"),it=Symbol("is_updating"),ut=Symbol("parent"),at=Symbol("attributes"),ct=Symbol("template");var ht={EACH:0,IF:1,SIMPLE:2,TAG:3,SLOT:4};var lt={ATTRIBUTE:0,EVENT:1,TEXT:2,VALUE:3};const dt=Symbol("head"),pt=Symbol("tail");function mt(t){const e=t.dom.cloneNode(!0),{head:n,tail:r}=function(){const t=document.createTextNode(""),e=document.createTextNode("");return t[dt]=!0,e[pt]=!0,{head:t,tail:e}}();return{avoidDOMInjection:!0,fragment:e,head:n,tail:r,children:[n,...Array.from(e.childNodes),r]}}function ft(t,e,n,r){return void 0===r&&(r={}),Object.defineProperty(t,e,Object.assign({value:n,enumerable:!1,writable:!1,configurable:!0},r)),t}function vt(t,e,n){return Object.entries(e).forEach((e=>{let[r,o]=e;ft(t,r,o,n)})),t}function bt(t,e){return Object.entries(e).forEach((e=>{let[n,r]=e;t[n]||(t[n]=r)})),t}function gt(t,e){return typeof t===e}function yt(t){const e=t.ownerSVGElement;return!!e||null===e}function wt(t){return"template"===t.tagName.toLowerCase()}function Ot(t){return gt(t,"function")}function Nt(t){return!xt(t)&&t.constructor===Object}function xt(t){return null==t}const Et=Symbol("unmount"),jt={nodes:[],mount(t,e){return this.update(t,e)},update(t,e){const{placeholder:n,nodes:r,childrenMap:o}=this,s=t===Et?null:this.evaluate(t),i=s?Array.from(s):[],{newChildrenMap:u,batches:a,futureNodes:c}=function(t,e,n,r){const{condition:o,template:s,childrenMap:i,itemName:u,getKey:a,indexName:c,root:h,isTemplateTag:l}=r,d=new Map,p=[],m=[];return t.forEach(((t,r)=>{const f=function(t,e){let{itemName:n,indexName:r,index:o,item:s}=e;ft(t,n,s),r&&ft(t,r,o);return t}(Object.create(e),{itemName:u,indexName:c,index:r,item:t}),v=a?a(f):r,b=i.get(v),g=[];if(function(t,e){return!!t&&!t(e)}(o,f))return;const y=!b,w=b?b.template:s.clone(),O=w.el||h.cloneNode(),N=l&&y?mt(w):w.meta;y?p.push((()=>w.mount(O,f,n,N))):p.push((()=>w.update(f,n))),l?g.push(...N.children):g.push(O),i.delete(v),m.push(...g),d.set(v,{nodes:g,template:w,context:f,index:r})})),{newChildrenMap:d,batches:p,futureNodes:m}}(i,t,e,this);return((t,e,n,r)=>{const o=e.length;let s=t.length,i=o,u=0,a=0,c=null;for(;u<s||a<i;)if(s===u){const t=i<o?a?n(e[a-1],-0).nextSibling:n(e[i-a],0):r;for(;a<i;)J(n(e[a++],1),t)}else if(i===a)for(;u<s;)c&&c.has(t[u])||Z(n(t[u],-1)),u++;else if(t[u]===e[a])u++,a++;else if(t[s-1]===e[i-1])s--,i--;else if(t[u]===e[i-1]&&e[a]===t[s-1]){const r=n(t[--s],-1).nextSibling;J(n(e[a++],1),n(t[u++],-1).nextSibling),J(n(e[--i],1),r),t[s]=e[i]}else{if(!c){c=new Map;let t=a;for(;t<i;)c.set(e[t],t++)}if(c.has(t[u])){const r=c.get(t[u]);if(a<r&&r<i){let o=u,d=1;for(;++o<s&&o<i&&c.get(t[o])===r+d;)d++;if(d>r-a){const o=n(t[u],0);for(;a<r;)J(n(e[a++],1),o)}else h=n(e[a++],1),(l=n(t[u++],-1))&&l.parentNode&&l.parentNode.replaceChild(h,l)}else u++}else Z(n(t[u++],-1))}var h,l})(r,c,function(t,e){return(n,r)=>{if(r<0){const n=t[t.length-1];if(n){const{template:r,nodes:o,context:s}=n;o.pop(),o.length||(t.pop(),r.unmount(s,e,null))}}return n}}(Array.from(o.values()),e),n),a.forEach((t=>t())),this.childrenMap=u,this.nodes=c,this},unmount(t,e){return this.update(Et,e),this}};const At={mount(t,e){return this.update(t,e)},update(t,e){const n=!!this.evaluate(t),r=!this.value&&n,o=this.value&&!n,s=()=>{const n=this.node.cloneNode();J(n,this.placeholder),this.template=this.template.clone(),this.template.mount(n,t,e)};switch(!0){case r:s();break;case o:this.unmount(t);break;default:n&&this.template.update(t,e)}return this.value=n,this},unmount(t,e){return this.template.unmount(t,e,!0),this}};function Mt(t){throw new Error(t)}function Ct(t){const e=new Map,n=n=>(e.has(n)||e.set(n,t.call(this,n)))&&e.get(n);return n.cache=e,n}function Tt(t){return t.reduce(((t,e)=>{const{value:n,type:r}=e;switch(!0){case!e.name&&0===r:return Object.assign({},t,n);case 3===r:t.value=e.value;break;default:t[W(e.name)]=e.value}return t}),{})}const St="undefined"==typeof Element?{}:Element.prototype,_t=Ct((t=>St.hasOwnProperty(t)));function Dt(t,e,n,r){let{name:o}=e;if(!o)return r&&function(t,e,n){const r=e?Object.keys(e):[];Object.keys(n).filter((t=>!r.includes(t))).forEach((e=>t.removeAttribute(e)))}(t,n,r),void(n&&function(t,e){Object.entries(e).forEach((e=>{let[n,r]=e;return Dt(t,{name:n},r)}))}(t,n));!_t(o)&&(function(t){return gt(t,"boolean")}(n)||Nt(n)||Ot(n))&&(t[o]=n),!function(t){return!t&&0!==t}(n)?function(t){return!0===t||["string","number"].includes(typeof t)}(n)&&t.setAttribute(o,function(t,e){return!0===e?t:e}(o,n)):t.removeAttribute(o)}const Pt=/^on/,kt={handleEvent(t){this[t.type](t)}},Rt=new WeakMap;function Lt(t){return xt(t)?"":t}const It=(t,e)=>{const n=t.childNodes[e];if(n.nodeType===Node.COMMENT_NODE){const e=document.createTextNode("");return t.replaceChild(e,n),e}return n};var Ut={0:Dt,1:function(t,e,n){let{name:r}=e;const o=r.replace(Pt,""),s=Rt.get(t)||(t=>{const e=Object.create(kt);return Rt.set(t,e),e})(t),[i,u]=(t=>Array.isArray(t)?t:[t,!1])(n),a=s[o],c=i&&!a;a&&!i&&t.removeEventListener(o,s),c&&t.addEventListener(o,s,u),s[o]=i},2:function(t,e,n){t.data=Lt(n)},3:function(t,e,n){t.value=Lt(n)}};const Ht={mount(t){return this.value=this.evaluate(t),Bt(this,this.value),this},update(t){const e=this.evaluate(t);return this.value!==e&&(Bt(this,e),this.value=e),this},unmount(){return 1===this.type&&Bt(this,null),this}};function Bt(t,e){return Ut[t.type](t.node,t,e,t.value)}function $t(t,e){return Object.assign({},Ht,e,{node:2===e.type?It(t,e.childNodeIndex):t})}const Ft=(t,e)=>t[ut]||e,zt={attributes:[],getTemplateScope(t,e){return function(t,e,n){if(!t||!t.length)return n;const r=t.map((t=>Object.assign({},t,{value:t.evaluate(e)})));return Object.assign(Object.create(n||null),Tt(r))}(this.attributes,t,e)},mount(t,e){const n=!!t.slots&&t.slots.find((t=>{let{id:e}=t;return e===this.name})),{parentNode:r}=this.node,o=Ft(t,e);return this.template=n&&Jt(n.html,n.bindings).createDOM(r),this.template&&(X(this.node),this.template.mount(this.node,this.getTemplateScope(t,o),o),this.template.children=Array.from(this.node.childNodes)),Kt(this.node),Z(this.node),this},update(t,e){if(this.template){const n=Ft(t,e);this.template.update(this.getTemplateScope(t,n),n)}return this},unmount(t,e,n){return this.template&&this.template.unmount(this.getTemplateScope(t,e),null,n),this}};function Kt(t){const e=t&&t.firstChild;e&&(J(e,t),Kt(t))}function qt(t){return t.reduce(((t,e)=>{let{bindings:n}=e;return t.concat(n)}),[])}const Vt={mount(t){return this.update(t)},update(t,e){const n=this.evaluate(t);var r,o,s;return n&&n===this.name?this.tag.update(t):(this.unmount(t,e,!0),this.name=n,this.tag=(r=this.getComponent(n),o=this.slots,s=this.attributes,void 0===o&&(o=[]),void 0===s&&(s=[]),r?r({slots:o,attributes:s}):Jt(function(t){return t.reduce(((t,e)=>t+e.html),"")}(o),[...qt(o),{expressions:s.map((t=>Object.assign({type:0},t)))}])),this.tag.mount(this.node,t)),this},unmount(t,e,n){return this.tag&&this.tag.unmount(n),this}};var Wt={1:function(t,e){let{evaluate:n,template:r}=e;const o=document.createTextNode("");return J(o,t),Z(t),Object.assign({},At,{node:t,evaluate:n,placeholder:o,template:r.createDOM(t)})},2:function(t,e){let{expressions:n}=e;return Object.assign({},(r=n.map((e=>$t(t,e))),["mount","update","unmount"].reduce(((t,e)=>Object.assign({},t,{[e]:t=>r.map((n=>n[e](t)))&&o})),{})));var r,o},0:function(t,e){let{evaluate:n,condition:r,itemName:o,indexName:s,getKey:i,template:u}=e;const a=document.createTextNode(""),c=t.cloneNode();return J(a,t),Z(t),Object.assign({},jt,{childrenMap:new Map,node:t,root:c,condition:r,evaluate:n,isTemplateTag:wt(c),template:u.createDOM(t),getKey:i,indexName:s,itemName:o,placeholder:a})},3:function(t,e){let{evaluate:n,getComponent:r,slots:o,attributes:s}=e;return Object.assign({},Vt,{node:t,evaluate:n,slots:o,attributes:s,getComponent:r})},4:function(t,e){let{name:n,attributes:r}=e;return Object.assign({},zt,{attributes:r,node:t,name:n})}};function Gt(t,e){return t.map((t=>2===t.type?Object.assign({},t,{childNodeIndex:t.childNodeIndex+e}):t))}function Xt(t,e){return yt(t)?function(t,e){return e.ownerDocument.importNode((new window.DOMParser).parseFromString(`<svg xmlns="http://www.w3.org/2000/svg">${t}</svg>`,"application/xml").documentElement,!0)}(e,t):function(t,e){const n=wt(e)?e:document.createElement("template");return n.innerHTML=t,n.content}(e,t)}function Yt(t,e){switch(!0){case yt(t):G(e,t);break;case wt(t):t.parentNode.replaceChild(e,t);break;default:t.appendChild(e)}}const Zt=Object.freeze({createDOM(t){return this.dom=this.dom||function(t,e){return e&&("string"==typeof e?Xt(t,e):e)}(t,this.html)||document.createDocumentFragment(),this},mount(t,e,n,r){if(void 0===r&&(r={}),!t)throw new Error("Please provide DOM node to mount properly your template");this.el&&this.unmount(e);const{fragment:o,children:s,avoidDOMInjection:i}=r,{parentNode:u}=s?s[0]:t,a=wt(t),c=a?function(t,e,n){const r=Array.from(t.childNodes);return Math.max(r.indexOf(e),r.indexOf(n.head)+1,0)}(u,t,r):null;this.createDOM(t);const h=o||this.dom.cloneNode(!0);return this.el=a?u:t,this.children=a?s||Array.from(h.childNodes):null,!i&&h&&Yt(t,h),this.bindings=this.bindingsData.map((t=>function(t,e,n){const{selector:r,type:o,redundantAttribute:s,expressions:i}=e,u=r?t.querySelector(r):t;s&&u.removeAttribute(s);const a=i||[];return(Wt[o]||Wt[2])(u,Object.assign({},e,{expressions:n&&!r?Gt(a,n):a}))}(this.el,t,c))),this.bindings.forEach((t=>t.mount(e,n))),this.meta=r,this},update(t,e){return this.bindings.forEach((n=>n.update(t,e))),this},unmount(t,e,n){void 0===n&&(n=!1);const r=this.el;if(!r)return this;switch(this.bindings.forEach((r=>r.unmount(t,e,n))),!0){case r[st]||null===n:break;case Array.isArray(this.children):Y(this.children);break;case!n:X(r);break;case!!n:Z(r)}return this.el=null,this},clone(){return Object.assign({},this,{meta:{},el:null})}});function Jt(t,e){return void 0===e&&(e=[]),Object.assign({},Zt,{html:t,bindingsData:e})}function Qt(){return this}function te(t){return Ot(t)?t.prototype&&t.prototype.constructor?new t:t():t}function ee(t){return Array.isArray(t)?t:/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&"number"==typeof t.length?Array.from(t):[t]}function ne(t,e){return ee("string"==typeof t?(e||document).querySelectorAll(t):t)}const re=t=>1===t.length?t[0]:t;function oe(t,e,n){const r="object"==typeof e?e:{[e]:n},o=Object.keys(r);return ee(t).forEach((t=>{o.forEach((e=>t.setAttribute(e,r[e])))})),t}function se(t,e){return function(t,e,n){const r="string"==typeof e?[e]:e;return re(ee(t).map((t=>re(r.map((e=>t[n](e)))))))}(t,e,"getAttribute")}const ie=new Map,ue=()=>ae||(oe(ae=ne("style[riot]")[0]||document.createElement("style"),"type","text/css"),ae.parentNode||document.head.appendChild(ae),ae);var ae,ce={CSS_BY_NAME:ie,add(t,e){return ie.has(t)||(ie.set(t,e),this.inject()),this},inject(){return ue().innerHTML=[...ie.values()].join("\n"),this},remove(t){return ie.has(t)&&(ie.delete(t),this.inject()),this}};function he(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(r=[...n,...r]).length<t.length?he(t,...r):t(...r)}}const le=Object.freeze({$(t){return ne(t,this.root)[0]},$$(t){return ne(t,this.root)}}),de=Object.freeze({[nt]:Qt,[rt]:Qt,[ot]:Qt}),pe=Object.freeze({shouldUpdate:Qt,onBeforeMount:Qt,onMounted:Qt,onBeforeUpdate:Qt,onUpdated:Qt,onBeforeUnmount:Qt,onUnmounted:Qt}),me=Object.assign({},de,{clone:Qt,createDOM:Qt}),fe=Ct(we);function ve(t,e){return void 0===e&&(e={}),Object.assign({},function(t){return Array.from(t.attributes).reduce(((t,e)=>(t[W(e.name)]=e.value,t)),{})}(t),te(e))}const be=(t,e)=>t[tt]=e;function ge(t){return[nt,rt,ot].reduce(((e,n)=>(e[n]=t(n),e)),{})}function ye(t,e){const n=function(t){void 0===t&&(t={});return Object.entries(te(t)).reduce(((t,e)=>{let[n,r]=e;var o;return t[(o=n,o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())]=we(r),t}),{})}(e.exports?e.exports.components:{});return t(Jt,lt,ht,(t=>t===e.name?fe(e):n[t]||Q.get(t)))}function we(t){const{css:e,template:n,exports:r,name:o}=t,s=n?ye(n,t):me;return t=>{let{slots:i,attributes:u,props:a}=t;if(r&&r[st])return function(t,e){let{slots:n,attributes:r,props:o,css:s,template:i}=e;i&&Mt("Pure components can not have html"),s&&Mt("Pure components do not have css");const u=bt(t({slots:n,attributes:r,props:o}),de);return ge((t=>function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(t===nt){const[t]=n;ft(t,st,!0),be(t,u)}return u[t](...n),u}))}(r,{slots:i,attributes:u,props:a,css:e,template:n});const c=te(r)||{},h=function(t){let{css:e,template:n,componentAPI:r,name:o}=t;e&&o&&ce.add(o,e);return he(xe)(vt(bt(r,Object.assign({},pe,{props:{},state:{}})),Object.assign({slots:null,root:null},le,{name:o,css:e,template:n})))}({css:e,template:s,componentAPI:c,name:o})({slots:i,attributes:u,props:a});return{mount:(t,e,n)=>h.mount(t,n,e),update:(t,e)=>h.update(e,t),unmount:t=>h.unmount(t)}}}function Oe(t,e){return Object.assign({},t,te(e))}function Ne(t,e){(function(t){return se(t,"is")||t.tagName.toLowerCase()})(t)!==e&&oe(t,"is",e)}function xe(t,e){let{slots:n,attributes:r,props:o}=e;return s=function(t){return[...et].reduce(((t,e)=>e(t)||t),t)}(vt(Nt(t)?Object.create(t):t,{mount(e,s,i){return void 0===s&&(s={}),ft(e,st,!1),this[ut]=i,this[at]=function(t,e){void 0===e&&(e=[]);const n=e.map((e=>$t(t,e))),r={};return Object.assign(r,Object.assign({expressions:n},ge((t=>e=>(n.forEach((n=>n[t](e))),r)))))}(e,r).mount(i),ft(this,"props",Object.freeze(Object.assign({},ve(e,o),Tt(this[at].expressions)))),this.state=Oe(this.state,s),this[ct]=this.template.createDOM(e).clone(),be(e,this),t.name&&Ne(e,t.name),ft(this,"root",e),ft(this,"slots",n),this.onBeforeMount(this.props,this.state),this[ct].mount(e,this,i),this.onMounted(this.props,this.state),this},update(t,e){void 0===t&&(t={}),e&&(this[ut]=e,this[at].update(e));const n=Tt(this[at].expressions);if(!1!==this.shouldUpdate(n,this.props))return ft(this,"props",Object.freeze(Object.assign({},this.props,n))),this.state=Oe(this.state,t),this.onBeforeUpdate(this.props,this.state),this[it]||(this[it]=!0,this[ct].update(this,this[ut])),this.onUpdated(this.props,this.state),this[it]=!1,this},unmount(t){return this.onBeforeUnmount(this.props,this.state),this[at].unmount(),this[ct].unmount(this,this[ut],null===t?null:!t),this.onUnmounted(this.props,this.state),this}})),Object.keys(t).filter((e=>Ot(t[e]))).forEach((t=>{s[t]=s[t].bind(s)})),s;var s}function Ee(t){return Ot(t)||Mt('riot.pure accepts only arguments of type "function"'),t[st]=!0,t}const je=Symbol("riouter");var Ae={name:"route",exports:Ee((t=>{const e=e=>t&&t.attributes&&t.attributes.find((t=>t.name===e));return{mount(e,n){if(t&&t.slots&&t.slots.length){if(this.active=!1,this.el=this.root=e,this.state={},this.slot=V(null,[{type:i,name:"default"}]),this.router=n[je].router,this.route=this.root.getAttribute("path"),!this.route)throw new Error("No path found for route component.");this.router.addRoute(this.route),this.handleRouteChange=t=>{let{route:e}=t;const r=this.route===e;this.active!==r&&(this.active=r,this.update(n))},this.router.addListener("pushed",this.handleRouteChange)}},unmount(){this.router.removeListener("pushed",this.handleRouteChange),this.router.removeRoute(this.route),this.slot.unmount(...arguments)},update(n){if(this.active){const r=e("onBeforeMount");r&&r.evaluate(n)(this,this.router,this.route);const o=document.createElement("div");this.root.appendChild(o),this.slot.mount(o,{slots:t.slots},n);const s=e("onMounted");s&&s.evaluate(n)(this,this.router,this.route)}else{const r=e("onBeforeUnmount");r&&r.evaluate(n)(this,this.router,this.route),this.slot.unmount({slots:t.slots},n,!0);const o=e("onUnmounted");o&&o.evaluate(n)(this,this.router,this.route)}}}}))};const Me=window.requestAnimationFrame||window.setTimeout,Ce=window.cancelAnimationFrame||window.clearTimeout;var Te={name:"router",exports:Ee((t=>{const e=e=>t&&t.attributes&&t.attributes.find((t=>t.name===e)),n=t=>{const n=e("base");return n?n.evaluate(t):window.location.protocol+"//"+window.location.host};return{mount(r,o){if(!t||!t.slots||!t.slots.length)return;const u=document.createElement("div");r.appendChild(u),this.el=this.root=u,this.state={};let a=e("updateHistory");a=!!a&&!!a.evaluate(o),this.router=new s({basePath:n(),updateHistory:a}),this.router.push(window.location.href),this.slot=V(null,[{type:i,name:"default"}]),o[je]=this;const c=e("onBeforeStart");c&&c.evaluate(o)(this,this.router),this.slot.mount(this.root,{slots:t.slots},o);const h=e("onStarted");h&&h.evaluate(o)(this,this.router)},unmount(){this.slot&&this.slot.unmount(...arguments),this.root.remove(),this.router.destroy()},update(){this.slot&&(this.deferred&&Ce(this.deferred),this.deferred=Me((()=>{this.slot.update({},this)})))}}}))};export{s as Router,Ae as route,Te as router};
